%===============================================================================
%非盲审
% \categorynumber{TP311} % 分类采用《中国图书资料分类法》
% \UDC{004.6}            %《国际十进分类法UDC》的类号
% \secretlevel{公开}    %学位论文密级分为"公开"、"内部"、"秘密"和"机密"四种
% \studentid{184607}   %学号要完整，前面的零不能省略。
% \title{基于知识图谱的IT运维辅助系统设计与实现}{基于知识图谱的 \rotatebox{270}{IT} 运维辅助系统设计与分析}{}{}{Design and Implementation of IT Operation and Maintenance Assistant System Based on Knowledge Graph}{}
% \author{方苏东}{FANG Sudong}
% \advisor{漆桂林}{教授}{QI Guilin}{Prof.}
% \coadvisor{丁岩}{高工}{DING Yan}{Ir.} % 没有% 可以不填
% \degreetype{工程硕士}{Master of Engineering} % 详细学位名称
% \major{软件工程}
% \submajor{软件工程}
% \defenddate{\today}
% \authorizedate{\today}
% \committeechair{}
% \reviewer{}{}
% \department{东南大学软件学院}{SouthEast University}
% 盲审
\categorynumber{TP311} % 分类采用《中国图书资料分类法》
\UDC{004.6}            %《国际十进分类法UDC》的类号
\secretlevel{公开}    %学位论文密级分为"公开"、"内部"、"秘密"和"机密"四种
\studentid{***}   %学号要完整，前面的零不能省略。
\title{基于知识图谱的IT运维辅助系统设计与实现}{基于知识图谱的 \rotatebox{270}{IT} 运维辅助系统设计与分析}{}{}{Design and Implementation of IT Operation and Maintenance Assistant System Based on Knowledge Graph}{}
\author{***}{***}
\advisor{***}{教授}{***}{Prof.}
\coadvisor{***}{高工}{***}{Ir.} % 没有% 可以不填
\degreetype{工程硕士}{Master of Engineering} % 详细学位名称
\major{软件工程}
\submajor{软件工程}
\defenddate{\today}
\authorizedate{\today}
\committeechair{***}
\reviewer{***}{***}
\department{东南大学软件学院}{SouthEast University}



% \seuthesisthanks{本课题的研究来自于与阿里云合作项目}
% \makebigcover

\makecover
\begin{abstract}{故障预测，IT运维，知识图谱，表示学习}
    随着互联网技术的迅猛发展，目前大多数应用软件都建立在一个庞大、繁杂、跨协议层的大型分布式集群中。这类分布式集群的技术、软件、配置通常会不断地演变，难以避免会发生故障。面对海量的监控数据和庞大的系统，IT（Information Technology）运维人员很难做出迅速、准确的运维决策来应对各种故障。近年来，智能运维 （Artificial Intelligence for IT Operations，AIOps）通过引入人工智能技术，提升了IT运维效率。
    % 已有的AIOps方案使用历史数据训练感知机、贝叶斯网、随机森林等机器学习模型，用于异常检测、异常分类、故障预测等以辅助运维，均只停留在算法层面，对知识表示和推理的积累比较少。在AIOps中引入知识图谱能够结构化整合多源异构数据，规范化展示系统运行状态。知识图谱也可以把人对系统的认知、过往的运维经验沉淀成计算机可表示积累的数据，并作为先验知识来辅助运维。另外，知识图谱中经过严格定义的结构化数据使其具备一定的推理与诊断能力，从而辅助IT运维人员进行线上诊断、故障预测等。
    % 停留在算法层面，仅使用历史数据训练机器学习模型，却忽略了历史数据中蕴含的运维知识。这些运维知识，不仅能够解释故障产生过程，还具有通用性能够指导运维。知识图谱可以结构化整合这些历史数据中的知识，进一步辅助线上诊断、故障预测等运维工作。
    
    然而，在实际场景中，IT运维依然面临着三个问题：多源异构数据难以整合、运维知识表示不足和故障难以准确预知。首先，已有的运行状态监测模型都只能整合片面的数据，导致沉淀的运维知识也是片面的。其次，传统的运维知识表示方法局限于知识的显示结构，忽略了运维知识的深层含义。此外，现有的故障预测方法没有引入运维知识，预测结果缺乏可解释性，可靠性低。
    
    基于此，本文提出了有效解决上述问题的IT运维辅助技术，主要包括：    

    （1）提出了自动化构建组件-事件知识图谱的方法，整合了横跨硬件、软件、日志和运行指标的所有数据，使用了机器学习模型生成组件-事件知识图谱，减少了知识图谱构建的人工消耗。

    （2）提出了组件-事件知识图谱的表示学习模型，考虑了实体在不同上下文中含义不同，把实体表示分为了语义表示和结构表示，实现了实体随上下文变化的动态表示，在组件-事件知识图谱三元组分类和链接预测任务上取得了最好的效果。

    （3）提出了引入组件-事件知识图谱的故障预测模型，利用知识图谱识别事件序列中的关键信息，预测出最匹配的故障类型，提高了预测结果的细粒度，增强了可解释性。

    （4）基于上述工作，设计并实现了一个基于知识图谱的IT运维辅助系统。
    
    综上所述，本文利用历史数据自动化构建了知识图谱，提出了针对该类知识图谱的表示学习模型，并将知识图谱引入到了故障预测中，最终设计并实现了一个基于知识图谱的IT运维辅助系统。
    % \begin{itemize}
    %     \item [（1）] 
    %     提出了自动化构建组件-事件知识图谱的方法，设计了6种事件特征，训练了机器学习分类模型判别事件间有无因果关系，进而从历史数据沉淀出了与故障类型对应的组件-事件知识图谱，减少了知识图谱构建的人工消耗。   
    %     \item [（2）]
    %     提出了组件-事件知识图谱的表示学习模型，考虑了相同实体在不同上下文结构中有着不同的含义，实体表示被分为了语义表示和结构表示两部分，实现了实体动态表示。相较于经典的知识图谱表示学习模型，本文模型在组件-事件知识图谱三元组分类和链接预测任务上取得了最好的效果。
    %     \item [（3）]
    %     引入了组件-事件知识图谱进行故障预测，采用了双向记忆网络编码实时事件序列，利用组件-事件知识图谱注意力机制识别重要信息，取得了最佳的故障预测效果。
    %     \item [（4）]
    %     基于上述工作，设计并实现了一个基于知识图谱的IT运维辅助系统。
    %   \end{itemize}

\end{abstract}

% \begin{englishabstract}{Failure Prediction, ITOps, Knowledge Graph, Knowledge Graph Embedding}
%     With the rapid development of internet technology, most applications are built in a large, complicated and distributed cluster across protocol layers. The technology, software and configuration of the distributed cluster are always evolving, and it is difficult to avoid various failures. In the face of massive monitoring data and huge systems, it is difficult for IT Ops(Operations) personnel to make quick and accurate decisions to prevent failures. AIOps (artificial intelligence for it operations) aims to use artificial intelligence technology to improve IT Ops efficiency.
    
%     The existing AIOps programs use historical data to train perceptron, Bayesian, random forest and other machine learning models for anomaly detection,
%     anomaly classification, and failure prediction. It can be seen that AIOps only stays on the algorithm
%     level, and does not use knowledge representation and reasoning. This paper mainly studies IT Ops
%     technology based on knowledge graph, including the following:
%     \begin{itemize}
%         \item [（1）] 
%         The component-event knowledge graph is constructed automatically, and six kinds of event characteristics are designed. The machine learning classification model is trained to judge whether there is causal relationship between event pair, and then the component-event knowledge graph corresponding to fault type is precipitated from historical data, which reduces the labor consumption of knowledge graph construction.
%         \item [（2）]
%         A representation learning model of component-event knowledge graph is proposed. Because exceptions propagate along topology in IT Ops scenarios, and the same entity has different meanings in different context structures, entity representation is divided into semantic representation and structural representation, which realizes dynamic representation of entities with context changes. Compared with the classical knowledge graph representation learning model, the proposed model achieves the best results on the component-event knowledge graph triple classification and link prediction tasks.
        
%         \item [（3）]
%         The component-event knowledge graph is introduced for fault prediction. After the real-time event sequence is encoded by bidirectional memory network, the attention mechanism of knowledge graph is utilized to obtain important information for fault prediction, and the best fault prediction effect is achieved.

%         \item [（4）]
%         Based on the above work, an IT Ops assistant system based on knowledge graph is designed and implemented. 
        
%     \end{itemize}
% \end{englishabstract}

\begin{englishabstract}{Failure Prediction, IT operation and maintenance, Knowledge Graph, Knowledge Graph Embedding}
With the rapid development of internet technology, most applications are built in a large, complicated and distributed cluster across protocol layers. The technology, software and configuration of this kind of distributed cluster are always evolving, and it is difficult to avoid failure. Faced with massive monitoring data and huge systems, it is difficult for IT(Information Technology) operation and maintenance personnel to make quick and accurate operation and maintenance decisions to deal with various failures. In recent years, Artificial Intelligence for IT Operations (AIOps) has improved the efficiency of IT operation and maintenance by introducing artificial intelligence technology. 

However, in the actual scene, IT operation and maintenance still faces three problems: it is difficult to integrate multi-source heterogeneous data, insufficient representation of operation and maintenance knowledge and it is difficult to accurately predict faults. First of all, the existing operational status monitoring models can only integrate one-sided data, which leads to one-sided operation and maintenance knowledge. Secondly, the traditional representation method of operation and maintenance knowledge is limited to the display structure of knowledge, which neglects the deep meaning of operation and maintenance knowledge. In addition, the existing fault prediction methods do not use operation and maintenance knowledge, and the prediction results are lack of interpretability and reliability.

Based on this, this paper proposes an IT operation and maintenance assistant technology to effectively solve the above problems, which mainly includes: 

(1) A method of building component-event knowledge graph automatically is proposed, which integrates all types of data across hardware, software, logs and operation indicators, and uses machine learning model to generate component-event knowledge graph, thus reducing the labor consumption of building knowledge graph.

(2) A representation learning model of component-event knowledge graph is proposed. Considering the different meanings of entity in different contexts, entity representation is divided into semantic representation and structural representation, which realizes the dynamic representation of entity changing with context, and achieves the best results in component-event knowledge graph triple classification and link prediction tasks. 

(3) A fault prediction model based on component-event knowledge graph is proposed. The key information in event sequence is identified by knowledge graph, and the most matching fault type is predicted, which improves the fine granularity of prediction results and enhances the interpretability. 

(4) Based on the above work, an IT operation and maintenance assistant system based on knowledge graph is designed and implemented. 
    
To sum up, this paper uses historical data to build knowledge graph automatically, puts forward a representation learning model for this kind of knowledge graph, introduces knowledge graph into fault prediction, and finally designs and implements an IT operation and maintenance assistant system based on knowledge graph.
\end{englishabstract}
\setnomname{缩略词表}
\tableofcontents
\listofothers
%===============================================================================

% \begin{thenomenclature} 
%     \nomgroup{A}
%         \item [{IT}]\begingroup Information Technology\nomeqref {1.0}\nompageref{6}
%         \item [{Ops}]\begingroup Operations\nomeqref {1.0} \nompageref{6}
%         \item [{AIOps}]\begingroup Artificial Intelligence for IT Operations\nomeqref {1.0}  \nompageref{6}
%         \item [{API}]\begingroup Application Programming Interface\nomeqref {1.0}\nompageref{6}
%         \item [{KPI}]\begingroup Key Performance Indicators\nomeqref {1.0}\nompageref{6}
%         \item [{SLB}]\begingroup Server Load Balancer\nomeqref {1.0} \nompageref{6}
      
%         \item [{ECS}]\begingroup Elastic Compute Service\nomeqref {1.0} \nompageref{6}
%         \item [{RNN}]\begingroup Recurrent Neural Networks\nomeqref {1.0} \nompageref{6}
%         \item [{LSTM}]\begingroup Long Short-Term Memory\nomeqref {1.0} \nompageref{6}
%         \item [{BiLSTM}]\begingroup Bi-directional Long Short-Term Memory\nomeqref {1.0} \nompageref{6}
%         \item [{SVM}]\begingroup Support Vector Machines\nomeqref {1.0} \nompageref{6}
%         \item [{RGCN}]\begingroup Relational Graph Convolutional Networks\nomeqref {1.0} \nompageref{6}
%         \item [{VPC}]\begingroup Virtual Private Cloud\nomeqref {1.0} \nompageref{6}
%         \item [{DTW}]\begingroup Dynamic Time Warping\nomeqref {1.0} \nompageref{6}
%         \item [{k8s}]\begingroup kubeneters\nomeqref {1.0} \nompageref{6}
%         \item [{MR}]\begingroup mean rank\nomeqref {1.0} \nompageref{6}
%         \item [{Hits@n}]\begingroup Hits at n\nomeqref {1.0} \nompageref{6}
%         \item [{HSMM}]\begingroup Hidden Semi-Markov Model\nomeqref {1.0} \nompageref{6}
%         \item [{B/S}]\begingroup Browser/Server\nomeqref {1.0} \nompageref{6}
%         \item [{SLS}]\begingroup Log Service\nomeqref {1.0} \nompageref{6}

% \end{thenomenclature}


% 摘要 版本v1
% 随着互联网、移动互联网的迅猛发展，目前大多数应用软件都建立在一个庞大、复杂、跨协议层的大型分布式系统之上。
% 这个分布式系统的技术、软件、配置通常会不断地演变；其软硬件也难以避免会发生故障和变更；用户流量会发生不可预知的变化，甚至会发生安全攻击事件等等。
% 上述问题都是IT运维(以下简称Ops，包含运维、故障诊断、安全等方面)过程中面临的重要挑战。
% 即使各大集团在运维方面已有大量人力投入，在日常的工作中面对海量的监控数据和庞大的系统，运维人员还是很难做出迅速、准确的运维决策，
% 导致出现各种各样的、甚至影响非常大的故障。

% 近些年被提出的AIOps (Artificial Intelligence for IT Operations)尝试将人工智能的能力与运维相结合，通过机器学习的方法来提升运维效率。已有AIOps方案使用历史数据训练SVM、贝叶斯、随机森林等机器学习模型，用于异常检测、异常分类、根因溯源等辅助运维，仅仅停留在算法层面上，
% 对知识表示和推理的积累比较少。
% 现在业界有大量的静态和动态数据（如设备型号配置信息、设备时序信息、用户软件日志等），
% 整合这些多元异构数据，围绕IT运维构建一套知识库，将会有效服务于集团内的自动化运维。
% 相比于业界主要依赖于算法进行的AIOps，基于运维知识图谱的AIOps能够结构化整合异构复杂数据，
% 对系统实时运行状态进行建模，从而进一步对系统进行自动化检测。
% 另外，知识图谱可以把人对系统的认知、过往的运维诊断经验沉淀成计算机可以表示、积累的数据，
% 并可以在以后的运维过程中，引入这些数据作为先验知识来辅助决策。
% 同时，知识图谱中经过严格定义的结构化数据使其具备一定的推理与诊断能力，从而辅助人进行线上运维、异常排查分析等。

% 本文主要研究在 IT 运维场景中引入知识图谱以辅助运维的技术，主要工作如下：

% (1) 基于机器学习自动化构建组件-事件知识图谱。本文将事件特征拓展至6种，并训练了机器学习分类模型判别事件间有无因果关系，进而利用历史数据沉淀出了组件-事件知识图谱，缓解了知识图谱构建的人工消耗。

% (2) 组件-事件知识图谱表示学习。针对 IT 运维场景下异常沿着拓扑传导的特性，且相同实体在不同上下文环境中有着不同的含义，本文将实体表示分为语义表示和结构表示两部分，实现了实体随着不同上下文变化而动态表示。相较于经典的知识图谱表示模型，本文模型在组件-事件知识图谱三元组分类和链接预测任务上取得了最好的效果。

% (3) 引入知识图谱进行故障预测。本文提出了在双向记忆网络编码事件序列时，引入知识图谱来进行故障预测，取得了最佳的故障预测效果。

% (4) 基于上述工作，设计并实现了一个基于知识图谱的IT运维辅助系统。